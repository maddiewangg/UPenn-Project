<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Connect 4</title>
    <link rel="stylesheet" href="connect3.css">

</head>
<body>
    <h1>Connect 4</h1>
    <h2 id="winner"></h2>
    <div id="board">
        <div class="row">
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
        </div>
        <div class="row">
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
        </div>
        <div class="row">
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
        </div>
        <div class="row">
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
        </div>
        <div class="row">
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
        </div>
        <div class="row">
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
        </div>
    </div>

    <script>
        let circles = document.getElementsByClassName("circle");
        for(let circle of circles) {
            circle.addEventListener('click', changeColor, false);
        }

        function changeColor(){
            this.style.setProperty("background-color", "red") 
        } 

        class Board {
            constructor(element) {
                this.rows = [];
                this.element = element
                element.boardObject = this;
            }
            constructRows() {
                let divs = this.element.getElementsByClassName("row");
                let index = 0;
                for (let div of divs) {
                    this.rows.push(new Row(div, index, this));
                    index++;
                }
            }
            getCell(row, col) {
                return this.rows[row].cells[col];
            }
        }
        
        class Row {
            constructor(element, index, board) {
                this.element = element;
                this.index = index;
                this.board = board
                this.cells = [];
                element.rowObject = this;
            } 
        }

        class Cell {
            constructor(element, row, index) {
                this.element = element;
                this.row = row;
                this.index = index;
                this.cells = [];
                element.cellObject = this;
                this.piece = null;
            }
        }

        let board = new Board(document.getElementById("board")) 
        board.constructRows();
        let rows = board.rows;
        for(let row of rows) {
            let divs = row.element.getElementsByClassName("circle");
            let index = 0
            for (let div of divs) {
                row.cells.push(new Cell(div, row, index));
                index++;
            }
        }

        

    </script>
    
</body>
</html>